---
title: "Analise de Informações Aereas"
author: "Lucas"
date: "`r Sys.Date()`"
output: html_document
---
## Abas{.tabset}

### 1- Introdução

Essa análise é correspondente aos dados gerados por viagens de avião durante os anos 2000-2024 de todos os aeroportos do mundo.

Esses dados são interessantes para analisar tendencias de viagens e em relação aos impactos que os varios eventos mundiais causam no sistema aeroviário.




### 2- Pacotes Necessários
library(plotly) \n

library(dplyr) \n

library(tidyr) \n

library(DT)


```{r setup, include=FALSE, echo=FALSE}
library(plotly)
library(dplyr)
library(tidyr)
library(DT)

```


### 3- Import e Preparação
```{r setup1, include=TRUE, echo=TRUE}

data <- read.csv("C:/Users/Lucas Henrique/Desktop/UFRPE/Comp. Analise de Dados/Dados_Estatisticos.csv",sep = ";", header=TRUE)

data_filt <- data %>% select(4,5,6,7,8,10,12,13,14,16,20,21)

data_filt <- data_filt %>% filter(
  !is.na(ANO) & ANO != "" &
    !is.na(MES) & MES != "" &
    !is.na(AEROPORTO_DE_ORIGEM_NOME) & AEROPORTO_DE_ORIGEM_NOME != "" &
    !is.na(AEROPORTO_DE_DESTINO_NOME) & AEROPORTO_DE_DESTINO_NOME != "" &
    !is.na(PASSAGEIROS_PAGOS) &
    !is.na(PASSAGEIROS_GRATIS)
)

data_filt$PASSAGEIROS_TOTAIS = data_filt$PASSAGEIROS_GRATIS + data_filt$PASSAGEIROS_PAGOS

datatable(head(data_filt,20), options = list(scrollX = TRUE))


```


### 4- Dados{.tabset}

#### 1 - Geral
```{r setup2, include=TRUE,  echo=FALSE}
df_ano <- data_filt %>%
  group_by(ANO) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

datatable(head(df_ano,20), options = list(scrollX = TRUE))

fig <- plot_ly(x = ~df_ano$ANO, y = ~df_ano$soma_valores, type = 'scatter', mode = 'lines+markers')
  
fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os anos 2000 - 2024',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Anos'))

fig

```
#### 2 - 2023,2020 e 2019 
```{r 2023, include=TRUE,  echo=FALSE}

# Configurando o layout
layout(matrix(c(1, 2,
                3, 3), nrow=2, byrow=TRUE))  


data_2023 <- data_filt %>% filter(ANO == 2023)

#datatable(head(data_2023,20), options = list(scrollX = TRUE))

df_2023 <- data_2023 %>%
  group_by(MES) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

fig <- plot_ly(x = ~df_2023$MES, y = ~df_2023$soma_valores, type = 'scatter', mode = 'lines+markers')

fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os meses de 2023',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Meses'))

fig

data_2020 <- data_filt %>% filter(ANO == 2020)

#datatable(head(data_2020,20), options = list(scrollX = TRUE))

df_2020 <- data_2020 %>%
  group_by(MES) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

fig <- plot_ly(x = ~df_2020$MES, y = ~df_2020$soma_valores, type = 'scatter', mode = 'lines+markers')

fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os meses de 2020',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Meses'))

fig


data_2019 <- data_filt %>% filter(ANO == 2019)

#datatable(head(data_2019,20), options = list(scrollX = TRUE))

df_2019 <- data_2019 %>%
  group_by(MES) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

fig <- plot_ly(x = ~df_2019$MES, y = ~df_2019$soma_valores, type = 'scatter', mode = 'lines+markers')

fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os meses de 2019',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Meses'))

fig

```

#### 3 - Brasil 2014 e 2016

12 de jun. de 2014 – 13 de jul. de 2014

```{r br14, include=TRUE, echo=FALSE}

brasil14 <- data_filt %>% filter(ANO == 2014)

brasil14 <- brasil14 %>% filter(AEROPORTO_DE_DESTINO_PAIS == "BRASIL")

df_14 <- brasil14 %>%
  group_by(MES) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

fig <- plot_ly(x = ~df_14$MES, y = ~df_14$soma_valores, type = 'scatter', mode = 'lines+markers')

fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os meses de 2014',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Meses'))

fig


```


5 de agosto de 2016 – 21 de agosto de 2016
```{r br16, include=TRUE,  echo=FALSE}

brasil16 <- data_filt %>% filter(ANO == 2016)

brasil16 <- brasil16 %>% filter(AEROPORTO_DE_DESTINO_PAIS == "BRASIL")

df_16 <- brasil16 %>%
  group_by(MES) %>%
  summarise(soma_valores = sum(PASSAGEIROS_TOTAIS, na.rm = TRUE))

fig <- plot_ly(x = ~df_16$MES, y = ~df_16$soma_valores, type = 'scatter', mode = 'lines+markers')

fig <- fig %>%
  layout(title = 'Frequencia de voos durantes os meses de 2016',
         yaxis=list(title = 'Qnd de Voos'),
         xaxis=list(title = 'Meses'))

fig


```


### 5- Conclusão